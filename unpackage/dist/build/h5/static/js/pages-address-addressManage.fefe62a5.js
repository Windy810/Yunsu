(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"1c7a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderCustomerRefundClose=t.orderCustomerRefundApply=t.orderCustomerSalesReturn=t.rechargeConfigIndex=t.thirdPartyAuthDelete=t.thirdPartyAuthList=t.opinionDetail=t.opinionCreate=t.opinionList=t.uploadBase64Image=t.uploadImage=t.orderInvoiceList=t.invoiceDel=t.invoiceDefault=t.invoiceDetail=t.invoiceUpdate=t.invoiceCreate=t.invoiceList=t.evaluateAgain=t.evaluateCreate=t.creditsLogList=t.collectList=t.footPrintDel=t.footPrintList=t.couponReceive=t.orderTakeDelivery=t.orderDelete=t.orderDetail=t.orderProductSalesReturn=t.closeOrderRefundApply=t.orderRefundApply=t.orderList=t.couponDetail=t.couponClear=t.myCouponList=t.couponList=t.addressDelete=t.addressUpdate=t.addressDetail=t.addressDefault=t.addressCreate=t.addressList=t.memberUpdate=t.memberInfo=void 0;var i=a("2f0e"),r="/tiny-shop/v1/member/member/index";t.memberInfo=r;var n="/tiny-shop/v1/member/member/update";t.memberUpdate=n;var s="/tiny-shop/v1/member/address/index";t.addressList=s;var o="/tiny-shop/v1/member/address/default";t.addressDefault=o;var d="/tiny-shop/v1/member/address/view";t.addressDetail=d;var l="/tiny-shop/v1/member/address/create";t.addressCreate=l;var c="/tiny-shop/v1/member/address/update";t.addressUpdate=c;var u="/tiny-shop/v1/member/address/delete";t.addressDelete=u;var v="/tiny-shop/v1/marketing/coupon-type/index";t.couponList=v;var p="/tiny-shop/v1/member/coupon/index";t.myCouponList=p;var m="/tiny-shop/v1/marketing/coupon-type/view";t.couponDetail=m;var h="/tiny-shop/v1/marketing/coupon-type/create";t.couponReceive=h;var f="/tiny-shop/v1/member/coupon/clear";t.couponClear=f;var y="/tiny-shop/v1/member/order/index";t.orderList=y;var b="/tiny-shop/v1/member/order/take-delivery";t.orderTakeDelivery=b;var g="/tiny-shop/v1/member/order-product/refund-apply";t.orderRefundApply=g;var x="/tiny-shop/v1/member/order-product/refund-sales-return";t.orderProductSalesReturn=x;var w="/tiny-shop/v1/member/order-product/refund-close";t.closeOrderRefundApply=w;var k="/tiny-shop/v1/member/order/view";t.orderDetail=k;var D="/tiny-shop/v1/member/order/delete";t.orderDelete=D;var _="/tiny-shop/v1/member/footprint/index";t.footPrintList=_;var C="/tiny-shop/v1/member/footprint/delete";t.footPrintDel=C;var A="/tiny-shop/v1/member/collect/index";t.collectList=A;var I="/tiny-shop/v1/member/credits-log/index";t.creditsLogList=I;var L="/tiny-shop/v1/member/evaluate/create";t.evaluateCreate=L;var R="/tiny-shop/v1/member/evaluate/again";t.evaluateAgain=R;var $="/tiny-shop/v1/member/invoice/index";t.invoiceList=$;var P="/tiny-shop/v1/member/invoice/create";t.invoiceCreate=P;var U="/tiny-shop/v1/member/invoice/update";t.invoiceUpdate=U;var E="/tiny-shop/v1/member/invoice/view";t.invoiceDetail=E;var M="/tiny-shop/v1/member/invoice/default";t.invoiceDefault=M;var j="/tiny-shop/v1/member/invoice/delete";t.invoiceDel=j;var O="/tiny-shop/v1/member/order-invoice/index";t.orderInvoiceList=O;var T="/tiny-shop/v1/member/opinion/index";t.opinionList=T;var B="/tiny-shop/v1/member/opinion/create";t.opinionCreate=B;var S="/tiny-shop/v1/member/opinion/view";t.opinionDetail=S;var z="/tiny-shop/v1/member/auth/index";t.thirdPartyAuthList=z;var N="/tiny-shop/v1/member/auth/delete";t.thirdPartyAuthDelete=N;var J="/tiny-shop/v1/member/recharge-config/index";t.rechargeConfigIndex=J;var V="/tiny-shop/v1/member/order-customer/apply";t.orderCustomerRefundApply=V;var X="/tiny-shop/v1/member/order-customer/sales-return";t.orderCustomerSalesReturn=X;var F="/tiny-shop/v1/member/order-customer/close";t.orderCustomerRefundClose=F;var G="".concat(i.baseUrl,"/tiny-shop/v1/common/file/images");t.uploadImage=G;var q="".concat(i.baseUrl,"/tiny-shop/v1/common/file/base64");t.uploadBase64Image=q},"2c92":function(e,t,a){var i=a("a70c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("51c7a852",i,!0,{sourceMap:!1,shadowMode:!1})},4147:function(e,t,a){"use strict";var i={"rf-loading":a("ad54").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleRealNameChange.apply(void 0,arguments)}},model:{value:e.addressData.realname,callback:function(t){e.$set(e.addressData,"realname",t)},expression:"addressData.realname"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleMobileChange.apply(void 0,arguments)}},model:{value:e.addressData.mobile,callback:function(t){e.$set(e.addressData,"mobile",t)},expression:"addressData.mobile"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("选择地址")]),a("v-uni-view",[a("v-uni-picker",{attrs:{mode:"multiSelector",value:e.multiIndex,"range-key":"title",range:e.multiArray},on:{columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"input"},[e._v(e._s(e.addressData.address_name))])],1)],1)],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("详细地址")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.bindAddressDetailsChange.apply(void 0,arguments)}},model:{value:e.addressData.address_details,callback:function(t){e.$set(e.addressData,"address_details",t)},expression:"addressData.address_details"}})],1),a("v-uni-view",{staticClass:"row default-row"},[a("v-uni-text",{staticClass:"tit"},[e._v("设为默认")]),a("v-uni-switch",{attrs:{checked:!!e.addressData.is_default,color:"#82ae46"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1),a("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("提交")]),e.loading?a("rf-loading"):e._e()],1)},n=[];a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}))},4529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyAnnounceView=t.notifyAnnounceIndex=t.wechatConfig=t.configList=t.payCreate=t.advList=t.transmitCreate=t.collectDel=t.collectCreate=t.provinceList=void 0;var i="/tiny-shop/v1/common/provinces/index";t.provinceList=i;var r="/tiny-shop/v1/common/collect/create";t.collectCreate=r;var n="/tiny-shop/v1/common/collect/delete";t.collectDel=n;var s="/tiny-shop/v1/common/transmit/create";t.transmitCreate=s;var o="/tiny-shop/v1/common/adv/index";t.advList=o;var d="/tiny-shop/v1/common/config/index";t.configList=d;var l="/tiny-shop/v1/common/pay/create";t.payCreate=l;var c="/tiny-shop/v1/third-party/wechat-js-sdk";t.wechatConfig=c;var u="/tiny-shop/v1/common/notify-announce/index";t.notifyAnnounceIndex=u;var v="/tiny-shop/v1/common/notify-announce/view";t.notifyAnnounceView=v},"4d65":function(e,t,a){"use strict";var i=a("2c92"),r=a.n(i);r.a},"5b95":function(e,t,a){"use strict";a.r(t);var i=a("9283"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"8e19":function(e,t,a){"use strict";a.r(t);var i=a("4147"),r=a("5b95");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("4d65");var s,o=a("f0c5"),d=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3f42a037",null,!1,i["a"],s);t["default"]=d.exports},9283:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac6a"),a("96cf");var r=i(a("3b8d")),n=a("1c7a"),s=a("4529"),o={data:function(){return{addressData:{realname:"",mobile:"",address_details:"",address_name:"请选择地址",address:"",is_default:!1,province_id:"",city_id:"",area_id:""},multiArray:[[],[],[]],multiIndex:[0,0,0],loading:!0}},onLoad:function(e){this.initData(e)},methods:{initData:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="新增收货地址","edit"!==t.type){e.next=5;break}return a="编辑收货地址",e.next=5,this.getAddressDetail(t.id);case 5:return this.manageType=t.type,uni.setNavigationBarTitle({title:a}),e.next=9,this.getProvinceList();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAddressDetail:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$get("".concat(n.addressDetail),{id:t}).then(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.loading=!1,a.addressData=t.data;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){a.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getProvinceList:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t,a,i,n,o,d,l,c,u,v=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,a=0,i=0,n=null,o=null,d=null,l=null,c=null,u=null,e.next=11,this.$get("".concat(s.provinceList)).then(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(p){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v.loading=!1,v.multiArray[0]=p.data,v.addressData.province_id?p.data.forEach((function(e,a){parseInt(e.id,10)==parseInt(v.addressData.province_id,10)&&(t=a,n=e.id,l=e.title)})):(n=v.multiArray[0][0].id,l=v.multiArray[0][0].title),e.next=5,v.$get("".concat(s.provinceList),{pid:n}).then(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v.multiArray[1]=r.data,v.addressData.city_id?r.data.forEach((function(e,t){parseInt(e.id,10)==parseInt(v.addressData.city_id,10)&&(a=t,o=e.id,c=e.title)})):(o=v.multiArray[1][0].id,c=v.multiArray[1][0].title),e.next=4,v.$get("".concat(s.provinceList),{pid:o}).then((function(e){v.multiArray[2]=e.data,v.addressData.area_id?e.data.forEach((function(e,t){parseInt(e.id,10)==parseInt(v.addressData.area_id,10)&&(i=t,d=e.id,u=e.title)})):(d=v.multiArray[2][0].id,u=v.multiArray[2][0].title),v.multiIndex=[t,a,i],v.addressData.province_id=n,v.addressData.city_id=o,v.addressData.area_id=d,v.addressData.address_name="".concat(l,", ").concat(c,", ").concat(u)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){v.loading=!1,console.log(e)}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bindMultiPickerColumnChange:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var a,i,n,o,d,l,c,u,v,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.multiIndex[t.detail.column]=t.detail.value,a=0,i=0,n=0,o=null,d=null,l=null,c=null,u=null,v=null,e.t0=t.detail.column,e.next=0===e.t0?13:1===e.t0?22:2===e.t0?39:60;break;case 13:e.t1=this.multiIndex[0],e.next=e.t1===this.multiIndex[0]?16:21;break;case 16:return o=this.multiArray[0][t.detail.value].id,c=this.multiArray[0][t.detail.value].title,e.next=20,this.$get("".concat(s.provinceList),{pid:this.multiArray[0][t.detail.value].id}).then(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.multiArray[1]=i.data,d=p.multiArray[1][0].id,u=p.multiArray[1][0].title,a=t.detail.value,p.multiIndex=[a,0,0],e.next=7,p.$get("".concat(s.provinceList),{pid:p.multiArray[1][t.detail.column].id}).then((function(e){p.multiArray[2]=e.data,l=p.multiArray[2][0].id,v=p.multiArray[2][0].title})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 20:return e.abrupt("break",21);case 21:return e.abrupt("break",60);case 22:e.t2=this.multiIndex[0],e.next=e.t2===this.multiIndex[0]?25:38;break;case 25:e.t3=this.multiIndex[1],e.next=e.t3===this.multiIndex[1]?28:37;break;case 28:return o=this.multiArray[0][this.multiIndex[0]].id,c=this.multiArray[0][this.multiIndex[0]].title,d=this.multiArray[1][t.detail.value].id,u=this.multiArray[1][t.detail.value].title,i=t.detail.value,this.multiIndex=[this.multiIndex[0],i,0],e.next=36,this.$get("".concat(s.provinceList),{pid:this.multiArray[1][t.detail.value].id}).then((function(e){p.multiArray[2]=e.data})).catch((function(e){console.log(e)}));case 36:return e.abrupt("break",37);case 37:return e.abrupt("break",38);case 38:return e.abrupt("break",60);case 39:e.t4=this.multiIndex[0],e.next=e.t4===this.multiIndex[0]?42:59;break;case 42:e.t5=this.multiIndex[1],e.next=e.t5===this.multiIndex[1]?45:58;break;case 45:e.t6=this.multiIndex[2],e.next=e.t6===this.multiIndex[2]?48:57;break;case 48:return o=this.multiArray[0][this.multiIndex[0]].id,c=this.multiArray[0][this.multiIndex[0]].title,d=this.multiArray[1][this.multiIndex[1]].id,u=this.multiArray[1][this.multiIndex[1]].title,l=this.multiArray[2][t.detail.value].id,v=this.multiArray[2][t.detail.value].title,n=t.detail.value,this.multiIndex=[this.multiIndex[0],this.multiIndex[1],n],e.abrupt("break",57);case 57:return e.abrupt("break",58);case 58:return e.abrupt("break",59);case 59:return e.abrupt("break",60);case 60:this.addressData.address_name="".concat(c,", ").concat(u,", ").concat(v),this.addressData.province_id=o,this.addressData.city_id=d,this.addressData.area_id=l,this.$forceUpdate();case 65:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleRealNameChange:function(e){this.addressData.realname=e.detail.value},bindAddressDetailsChange:function(e){this.addressData.address_details=e.detail.value},handleMobileChange:function(e){this.addressData.mobile=e.detail.value},switchChange:function(e){this.addressData.is_default=e.detail.value},chooseLocation:function(){var e=this;uni.chooseLocation({success:function(t){e.addressData.addressName=t.name,e.addressData.address=t.name}})},confirm:function(){var e=this.addressData;e.realname?/(^1[3|4|5|7|8][0-9]{9}$)/.test(e.mobile)?"edit"===this.manageType?this.handleAddressUpdate(e):this.handleAddressCreate(e):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")},handleAddressUpdate:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$put("".concat(n.addressUpdate,"?id=").concat(t.id),{realname:t.realname,mobile:t.mobile,address_details:t.address_details,is_default:t.is_default?1:0,province_id:t.province_id,city_id:t.city_id,area_id:t.area_id}).then((function(e){a.$api.msg("恭喜您, 收货地址修改成功！"),uni.navigateBack()})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleAddressCreate:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("".concat(n.addressCreate),{realname:t.realname,mobile:t.mobile,address_details:t.address_details,is_default:t.is_default?1:0,province_id:t.province_id,city_id:t.city_id,area_id:t.area_id}).then((function(e){a.$api.msg("恭喜您, 收货地址修改成功！"),uni.navigateBack()})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}};t.default=o},a70c:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-3f42a037]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-3f42a037]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-3f42a037]{-webkit-flex-shrink:0;flex-shrink:0;width:%?140?%;font-size:%?30?%;color:#303133}.row .input[data-v-3f42a037]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .iconfont[data-v-3f42a037]{font-size:%?36?%;color:#909399}.default-row[data-v-3f42a037]{margin-top:%?16?%}.default-row .tit[data-v-3f42a037]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-3f42a037]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-3f42a037]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#47885e;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-3f42a037]{background:#f8f8f8}',""]),e.exports=t}}]);