(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-logintype"],{"148d":function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("8e6e"),n("ac6a"),n("456d"),n("4917");var i=o(n("bd86"));n("96cf");var a=o(n("3b8d")),r=n("0565"),c=n("2f62"),u=n("2f0e");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={data:function(){return{isAuthLoginShow:!1}},onLoad:function(t){var e=this;this.isWechat()&&(this.isAuthLoginShow=!0),this.code=t.code,this.code&&this.$get(r.wechatH5Login,{code:this.code}).then(function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.data.login){t.next=5;break}e.user_info=n.data.user_info.original,uni.showModal({content:"你尚未绑定账号，是否跳转登录页面？",success:function(t){if(t.confirm){var n="/pages/public/login?userInfo=".concat(JSON.stringify(e.user_info));uni.navigateTo({url:n})}}}),t.next=10;break;case 5:return t.next=7,e.login(n.data.user_info);case 7:e.$api.msg("已为您授权登录"),o="/pages/user/user",uni.reLaunch({url:o});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:f({},(0,c.mapMutations)(["login"]),{navTo:function(t){uni.navigateTo({url:t})},toAuthLogin:function(){this.isWechat()?uni.showModal({content:"是否授权登录?",success:function(t){if(t.confirm){var e=window.location.href;window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?\n\t\t\t\t\t\t\t\tappid=".concat(u.weixinAppId,"&\n\t\t\t\t\t\t\t\tredirect_uri=").concat(e,"&\n\t\t\t\t\t\t\t\tresponse_type=code&\n\t\t\t\t\t\t\t\tscope=snsapi_userinfo&\n\t\t\t\t\t\t\t\tstate=STATE#wechat_redirect")}t.cancel&&uni.navigateTo({url:url})}}):this.$api.msg("当前平台不支持授权登录")},isWechat:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/micromessenger/i)}})};e.default=l},1949:function(t,e,n){var o=n("6067");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("6664aa29",o,!0,{sourceMap:!1,shadowMode:!1})},"38b4":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login-type"},[n("v-uni-view",{staticClass:"logo"},[n("v-uni-image",{attrs:{src:"/static/rage.png"}})],1),n("v-uni-view",[t.isAuthLoginShow?n("v-uni-button",{staticClass:"confirm-btn",attrs:{"open-type":"getUserInfo",formType:"submit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAuthLogin.apply(void 0,arguments)}}},[t._v("授权登录")]):t._e(),n("v-uni-button",{staticClass:"confirm-btn plain",attrs:{plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/public/login")}}},[t._v("已有RF账号登录")])],1),n("v-uni-view",{staticClass:"footer"},[t._v("登录表示同意"),n("v-uni-text",{staticClass:"protocol",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/about/detail?field=protocol_privacy&title=隐私协议")}}},[t._v("RangeFrame使用协议 / 隐私协议")])],1)],1)},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},"3a13":function(t,e,n){"use strict";n.r(e);var o=n("38b4"),i=n("58aa");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("6f0c");var r,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"2ec74050",null,!1,o["a"],r);e["default"]=u.exports},"58aa":function(t,e,n){"use strict";n.r(e);var o=n("148d"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},6067:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-2ec74050]{background:#fff;height:calc(100% - %?88?%)}.login-type[data-v-2ec74050]{padding-top:%?80?%}.login-type .logo[data-v-2ec74050]{text-align:center;margin-bottom:%?80?%}.login-type .logo uni-image[data-v-2ec74050]{width:%?180?%;height:%?180?%;border-radius:%?28?%}.login-type .confirm-btn[data-v-2ec74050]{width:84%;margin:0 7% %?50?%;height:%?84?%;line-height:%?84?%;border-radius:%?12?%;background-color:#47885e;color:#fff;font-size:%?32?%}.login-type .plain[data-v-2ec74050]{background:none;color:#47885e;border:%?1?% solid #47885e}.login-type .footer[data-v-2ec74050]{width:100%;text-align:center;position:fixed;bottom:%?40?%;font-size:%?26?%}.login-type .footer .protocol[data-v-2ec74050]{color:#47885e;margin:0 %?10?%}body.?%PAGE?%[data-v-2ec74050]{background:#fff}',""]),t.exports=e},"6f0c":function(t,e,n){"use strict";var o=n("1949"),i=n.n(o);i.a}}]);