(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-refund-refund"],{"1c7a":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.orderCustomerRefundClose=r.orderCustomerRefundApply=r.orderCustomerSalesReturn=r.rechargeConfigIndex=r.thirdPartyAuthDelete=r.thirdPartyAuthList=r.opinionDetail=r.opinionCreate=r.opinionList=r.uploadBase64Image=r.uploadImage=r.orderInvoiceList=r.invoiceDel=r.invoiceDefault=r.invoiceDetail=r.invoiceUpdate=r.invoiceCreate=r.invoiceList=r.evaluateAgain=r.evaluateCreate=r.creditsLogList=r.collectList=r.footPrintDel=r.footPrintList=r.couponReceive=r.orderTakeDelivery=r.orderDelete=r.orderDetail=r.orderProductSalesReturn=r.closeOrderRefundApply=r.orderRefundApply=r.orderList=r.couponDetail=r.couponClear=r.myCouponList=r.couponList=r.addressDelete=r.addressUpdate=r.addressDetail=r.addressDefault=r.addressCreate=r.addressList=r.memberUpdate=r.memberInfo=void 0;var n=t("2f0e"),a="/tiny-shop/v1/member/member/index";r.memberInfo=a;var o="/tiny-shop/v1/member/member/update";r.memberUpdate=o;var i="/tiny-shop/v1/member/address/index";r.addressList=i;var s="/tiny-shop/v1/member/address/default";r.addressDefault=s;var u="/tiny-shop/v1/member/address/view";r.addressDetail=u;var d="/tiny-shop/v1/member/address/create";r.addressCreate=d;var c="/tiny-shop/v1/member/address/update";r.addressUpdate=c;var p="/tiny-shop/v1/member/address/delete";r.addressDelete=p;var l="/tiny-shop/v1/marketing/coupon-type/index";r.couponList=l;var f="/tiny-shop/v1/member/coupon/index";r.myCouponList=f;var v="/tiny-shop/v1/marketing/coupon-type/view";r.couponDetail=v;var m="/tiny-shop/v1/marketing/coupon-type/create";r.couponReceive=m;var h="/tiny-shop/v1/member/coupon/clear";r.couponClear=h;var b="/tiny-shop/v1/member/order/index";r.orderList=b;var y="/tiny-shop/v1/member/order/take-delivery";r.orderTakeDelivery=y;var g="/tiny-shop/v1/member/order-product/refund-apply";r.orderRefundApply=g;var x="/tiny-shop/v1/member/order-product/refund-sales-return";r.orderProductSalesReturn=x;var w="/tiny-shop/v1/member/order-product/refund-close";r.closeOrderRefundApply=w;var k="/tiny-shop/v1/member/order/view";r.orderDetail=k;var _="/tiny-shop/v1/member/order/delete";r.orderDelete=_;var C="/tiny-shop/v1/member/footprint/index";r.footPrintList=C;var R="/tiny-shop/v1/member/footprint/delete";r.footPrintDel=R;var D="/tiny-shop/v1/member/collect/index";r.collectList=D;var O="/tiny-shop/v1/member/credits-log/index";r.creditsLogList=O;var L="/tiny-shop/v1/member/evaluate/create";r.evaluateCreate=L;var I="/tiny-shop/v1/member/evaluate/again";r.evaluateAgain=I;var M="/tiny-shop/v1/member/invoice/index";r.invoiceList=M;var A="/tiny-shop/v1/member/invoice/create";r.invoiceCreate=A;var T="/tiny-shop/v1/member/invoice/update";r.invoiceUpdate=T;var P="/tiny-shop/v1/member/invoice/view";r.invoiceDetail=P;var $="/tiny-shop/v1/member/invoice/default";r.invoiceDefault=$;var j="/tiny-shop/v1/member/invoice/delete";r.invoiceDel=j;var N="/tiny-shop/v1/member/order-invoice/index";r.orderInvoiceList=N;var E="/tiny-shop/v1/member/opinion/index";r.opinionList=E;var S="/tiny-shop/v1/member/opinion/create";r.opinionCreate=S;var U="/tiny-shop/v1/member/opinion/view";r.opinionDetail=U;var z="/tiny-shop/v1/member/auth/index";r.thirdPartyAuthList=z;var B="/tiny-shop/v1/member/auth/delete";r.thirdPartyAuthDelete=B;var F="/tiny-shop/v1/member/recharge-config/index";r.rechargeConfigIndex=F;var J="/tiny-shop/v1/member/order-customer/apply";r.orderCustomerRefundApply=J;var q="/tiny-shop/v1/member/order-customer/sales-return";r.orderCustomerSalesReturn=q;var G="/tiny-shop/v1/member/order-customer/close";r.orderCustomerRefundClose=G;var H="".concat(n.baseUrl,"/tiny-shop/v1/common/file/images");r.uploadImage=H;var K="".concat(n.baseUrl,"/tiny-shop/v1/common/file/base64");r.uploadBase64Image=K},"3a0d":function(e,r,t){"use strict";var n,a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-uni-view",{staticClass:"refund"},[t("v-uni-view",{staticClass:"product-info"},[t("v-uni-image",{staticClass:"product-image",attrs:{mode:"aspectFill",src:e.productInfo.product_picture}}),t("v-uni-view",{staticClass:"product-content"},[t("v-uni-text",{staticClass:"product-name in2line"},[e._v(e._s(e.productInfo.product_name))]),t("v-uni-text",{staticClass:"product-sku-name"},[e._v(e._s(e.productInfo.skuName||"基础款"))]),t("v-uni-text",{staticClass:"product-price"},[e._v(e._s(e.productInfo.product_money)+" * "+e._s(e.productInfo.num))])],1)],1),t("v-uni-view",{staticClass:"product-textarea"},[t("v-uni-form",{on:{submit:function(r){arguments[0]=r=e.$handleEvent(r),e.handleOrderRefundApply.apply(void 0,arguments)}}},[1!=parseInt(e.refundType,10)?t("v-uni-radio-group",{staticClass:"refund-type",attrs:{name:"refund_type"},on:{change:function(r){arguments[0]=r=e.$handleEvent(r),e.handleRefundTypeChange.apply(void 0,arguments)}}},e._l(e.refundTypeArr,(function(r,n){return t("v-uni-label",{key:n,staticClass:"gender-item"},[t("v-uni-radio",{staticClass:"gender-item-radio",attrs:{value:r.value,color:"#82ae46",checked:e.refund_type==r.value}}),t("v-uni-text",{staticClass:"gender-item-text"},[e._v(e._s(r.name))])],1)})),1):e._e(),t("v-uni-textarea",{staticClass:"textarea",attrs:{name:"refund_reason",maxlength:"140",value:e.refund_reason,"placeholder-style":"color:#ccc; font-size: 24upx",placeholder:"宝贝不满足你的期待吗？请填写一下你的退货/退款理由吧"},on:{input:function(r){arguments[0]=r=e.$handleEvent(r),e.handleContentChange.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"tips"},[t("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.refund_reason.length>0&&e.refund_reason.length<40,expression:"refund_reason.length > 0 && refund_reason.length < 40"}]},[e._v("您已输入"),t("v-uni-text",{staticClass:"f"},[e._v(e._s(e.refund_reason.length))]),e._v("字")],1),t("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.refund_reason.length>=40,expression:"refund_reason.length >= 40"}]},[e._v("还可输入"),t("v-uni-text",{staticClass:"s"},[e._v(e._s(e.wordLimit))]),e._v("字")],1)],1),t("v-uni-button",{staticClass:"confirm-btn",attrs:{formType:"submit"}},[e._v(e._s(1===parseInt(e.refund_type,10)?"仅退款":"退货退款"))])],1)],1)],1)},o=[];t.d(r,"b",(function(){return a})),t.d(r,"c",(function(){return o})),t.d(r,"a",(function(){return n}))},5068:function(e,r,t){"use strict";var n=t("4ea4");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,t("8e6e"),t("ac6a"),t("456d");var a=n(t("bd86"));t("96cf");var o=n(t("3b8d")),i=n(t("04b2")),s=t("1c7a"),u=n(t("47d9")),d=t("1c7a");function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,a.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=t("c0f6"),f={components:{uniRate:i.default,uniIcons:u.default},data:function(){return{productInfo:{},refundType:1,refund_type:1,refund_reason:"",refundTypeArr:[{value:"1",name:"仅退款"},{value:"2",name:"退货退款"}]}},computed:{wordLimit:function(){return 140-this.refund_reason.length}},onLoad:function(e){this.initData(e)},methods:{initData:function(e){this.token=uni.getStorageSync("accessToken")||void 0,this.productInfo=JSON.parse(e.data),this.refundType=e.refundType;var r="仅退款";r=1===parseInt(this.refundType,10)?"仅退款":"仅退款/退货退款",uni.setNavigationBarTitle({title:r})},handleContentChange:function(e){this.refund_reason=e.detail.value},handleRefundTypeChange:function(e){this.refund_type=e.detail.value},handleOrderRefundApply:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(r){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.detail.value,1===parseInt(this.refundType,10)&&(t.refund_type=this.refundType),n=[{name:"refund_reason",checkType:"notnull",checkRule:"",errorMsg:"请输入退款/退货理由"}],a=l.check(t,n),a){e.next=7;break}return this.$api.msg(l.error),e.abrupt("return");case 7:console.log(this.refundType),3==this.refundType?this.handleOrderCustomerRefundApply(this.productInfo.id,t):this.handleOrderRefundApplyOperation(this.productInfo.id,t);case 9:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}(),handleOrderRefundApplyOperation:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(r,t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("".concat(s.orderRefundApply),p({id:r},t)).then((function(e){n.$api.msg("申请成功"),uni.navigateBack({delta:2})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}(),handleOrderCustomerRefundApply:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(r,t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("".concat(d.orderCustomerRefundApply),p({id:r},t)).then((function(e){n.$api.msg("申请成功"),uni.navigateBack({delta:2})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}()}};r.default=f},a4d2:function(e,r,t){"use strict";var n=t("ccbc"),a=t.n(n);a.a},ba5e:function(e,r,t){"use strict";t.r(r);var n=t("3a0d"),a=t("bc0f");for(var o in a)"default"!==o&&function(e){t.d(r,e,(function(){return a[e]}))}(o);t("a4d2");var i,s=t("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"b1de9b3c",null,!1,n["a"],i);r["default"]=u.exports},bc0f:function(e,r,t){"use strict";t.r(r);var n=t("5068"),a=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(r,e,(function(){return n[e]}))}(o);r["default"]=a.a},c0f6:function(e,r,t){"use strict";t("c5f6"),t("28a5"),t("3b2b"),e.exports={error:"",check:function(e,r){for(var t=0;t<r.length;t++){if(!r[t].checkType)return!0;if(!r[t].name)return!0;if(!r[t].errorMsg)return!0;if(!e[r[t].name])return this.error=r[t].errorMsg,!1;switch(r[t].checkType){case"string":var n=new RegExp("^.{"+r[t].checkRule+"}$");if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"int":n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+r[t].checkRule+"}$");if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"between":if(!this.isNumber(e[r[t].name]))return this.error=r[t].errorMsg,!1;var a=r[t].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[r[t].name]>a[1]||e[r[t].name]<a[0])return this.error=r[t].errorMsg,!1;break;case"betweenD":n=/^-?[1-9][0-9]?$/;if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;a=r[t].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[r[t].name]>a[1]||e[r[t].name]<a[0])return this.error=r[t].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;a=r[t].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[r[t].name]>a[1]||e[r[t].name]<a[0])return this.error=r[t].errorMsg,!1;break;case"same":if(e[r[t].name]!=r[t].checkRule)return this.error=r[t].errorMsg,!1;break;case"notsame":if(e[r[t].name]==r[t].checkRule)return this.error=r[t].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"phoneno":n=/^1[0-9]{10,10}$/;if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"reg":n=new RegExp(r[t].checkRule);if(!n.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"in":if(-1==r[t].checkRule.indexOf(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"notnull":if(null==e[r[t].name]||e[r[t].name].length<1)return this.error=r[t].errorMsg,!1;break}}return!0},isNumber:function(e){var r=/^-?[1-9][0-9]?.?[0-9]*$/;return r.test(e)}}},ccbc:function(e,r,t){var n=t("fbf7");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=t("4f06").default;a("a25b09aa",n,!0,{sourceMap:!1,shadowMode:!1})},fbf7:function(e,r,t){var n=t("24fb");r=n(!1),r.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.refund[data-v-b1de9b3c]{background:#fff;padding:%?20?%}.refund .product-info[data-v-b1de9b3c]{display:-webkit-box;display:-webkit-flex;display:flex}.refund .product-info .product-image[data-v-b1de9b3c]{width:%?200?%;height:%?150?%}.refund .product-info .product-content[data-v-b1de9b3c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?20?%}.refund .product-info .product-content .product-name[data-v-b1de9b3c]{font-size:%?32?%;color:#303133;line-height:%?32?%;min-height:%?60?%}.refund .product-info .product-content .product-sku-name[data-v-b1de9b3c]{display:block;font-size:%?28?%;color:#303133}.refund .product-textarea[data-v-b1de9b3c]{margin-top:%?20?%;height:%?300?%;border-bottom:1px solid rgba(0,0,0,.1);position:relative}.refund .product-textarea .refund-type[data-v-b1de9b3c]{margin:%?20?% 0}.refund .product-textarea .textarea[data-v-b1de9b3c]{width:100%}.refund .product-textarea .tips[data-v-b1de9b3c]{position:absolute;bottom:%?10?%;right:0;font-size:%?24?%;color:#909399}.refund .product-textarea .tips .f[data-v-b1de9b3c]{color:#4cd964}.refund .product-textarea .tips .s[data-v-b1de9b3c]{color:#9dd181}.refund .product-textarea .anonymous[data-v-b1de9b3c]{color:#909399;font-size:%?24?%;position:absolute;bottom:0;left:0}.refund .confirm-btn[data-v-b1de9b3c]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?50?%;background:#9dd181;color:#fff;font-size:%?32?%}.refund .confirm-btn[data-v-b1de9b3c]:after{border-radius:100px}',""]),e.exports=r}}]);