(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-orderItem"],{"0d2c":function(e,t,a){"use strict";var n={"rf-swipe-action":a("999f").default,"rf-swipe-action-item":a("c14a").default,"uni-tag":a("3b81").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"collection"},[a("v-uni-view",{staticClass:"uni-list"},[a("rf-swipe-action",e._l(e.orderItemList,(function(t,n){return a("rf-swipe-action-item",{key:n,staticClass:"uni-list-cell",attrs:{options:e.itemOptions(t.is_evaluate,t.refund_status),info:t},on:{action:function(t){arguments[0]=t=e.$handleEvent(t),e.bindClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-media-list"},[a("v-uni-image",{staticClass:"uni-media-list-logo",attrs:{mode:"aspectFill",src:t.product_picture}}),a("uni-tag",{staticClass:"evaluate-tag",attrs:{inverted:!0,mark:!0,text:e._f("filterProductStatus")(t),type:"primary",size:"small"}}),a("v-uni-view",{staticClass:"uni-media-list-body"},[a("v-uni-view",{staticClass:"uni-media-list-text-top"},[e._v(e._s(t.product_name))]),a("v-uni-view",{staticClass:"uni-media-list-text-second"},[e._v(e._s(t.sku_name||"基础款")+" * "+e._s(t.num))]),a("v-uni-view",{staticClass:"uni-media-list-text-bottom"},[a("v-uni-text",{staticClass:"price"},[e._v(e._s(t.price*t.num))]),a("v-uni-text",[e._v(e._s(e._f("time")(t.created_at)))])],1)],1)],1)],1)})),1)],1)],1)},r=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}))},"2ebc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"UniTag",props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[String,Boolean],defalut:!1},inverted:{type:[String,Boolean],defalut:!1},circle:{type:[String,Boolean],defalut:!1},mark:{type:[String,Boolean],defalut:!1}},methods:{onClick:function(){!0!==this.disabled&&"true"!==this.disabled&&this.$emit("click")}}};t.default=n},"37b0":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".uni-tag[data-v-220ebeeb]{box-sizing:border-box;padding:0 %?32?%;height:%?60?%;line-height:calc(%?60?% - 2px);font-size:%?28?%;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#333;border-radius:%?6?%;background-color:#f8f8f8;border:1px solid #f8f8f8}.uni-tag--circle[data-v-220ebeeb]{border-radius:%?30?%}.uni-tag--mark[data-v-220ebeeb]{border-radius:0 %?30?% %?30?% 0}.uni-tag--disabled[data-v-220ebeeb]{opacity:.5}.uni-tag--small[data-v-220ebeeb]{height:%?40?%;padding:0 %?16?%;line-height:calc(%?40?% - 2px);font-size:%?24?%}.uni-tag--primary[data-v-220ebeeb]{color:#fff;background-color:#007aff;border:1px solid #007aff}.uni-tag--primary.uni-tag--inverted[data-v-220ebeeb]{color:#007aff;background-color:#fff;border:1px solid #007aff}.uni-tag--success[data-v-220ebeeb]{color:#fff;background-color:#4cd964;border:1px solid #4cd964}.uni-tag--success.uni-tag--inverted[data-v-220ebeeb]{color:#4cd964;background-color:#fff;border:1px solid #4cd964}.uni-tag--warning[data-v-220ebeeb]{color:#fff;background-color:#f0ad4e;border:1px solid #f0ad4e}.uni-tag--warning.uni-tag--inverted[data-v-220ebeeb]{color:#f0ad4e;background-color:#fff;border:1px solid #f0ad4e}.uni-tag--error[data-v-220ebeeb]{color:#fff;background-color:#dd524d;border:1px solid #dd524d}.uni-tag--error.uni-tag--inverted[data-v-220ebeeb]{color:#dd524d;background-color:#fff;border:1px solid #dd524d}.uni-tag--inverted[data-v-220ebeeb]{color:#333;background-color:#fff;border:1px solid #f8f8f8}",""]),e.exports=t},"3b81":function(e,t,a){"use strict";a.r(t);var n=a("ff71"),i=a("90bd");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("dbdb7");var o,u=a("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"220ebeeb",null,!1,n["a"],o);t["default"]=s.exports},4523:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.uni-media-list-logo[data-v-5ad0959e]{width:%?240?%;height:%?180?%}.uni-media-list[data-v-5ad0959e]{position:relative}.evaluate-tag[data-v-5ad0959e]{position:absolute;top:%?20?%;font-size:%?20?%}.uni-media-list-body[data-v-5ad0959e]{height:auto;-webkit-justify-content:space-around;justify-content:space-around}.uni-media-list-text-top[data-v-5ad0959e]{font-size:%?28?%;overflow:hidden}.uni-media-list-text-second[data-v-5ad0959e]{height:%?50?%;font-size:%?24?%}.uni-media-list-text-bottom[data-v-5ad0959e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.price[data-v-5ad0959e]{font-size:%?28?%;color:#303133}.price[data-v-5ad0959e]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}',""]),e.exports=t},6438:function(e,t,a){"use strict";a.r(t);var n=a("0d2c"),i=a("d83d");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("ea19");var o,u=a("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"5ad0959e",null,!1,n["a"],o);t["default"]=s.exports},"90bd":function(e,t,a){"use strict";a.r(t);var n=a("2ebc"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},c7ee:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=n(a("3b8d")),r=n(a("3ed1")),o=n(a("6fc6")),u=n(a("3b81")),s=a("1c7a"),d=n(a("999f")),c=n(a("c14a")),l=n(a("9386")),f={components:{rfSwipeAction:d.default,rfSwipeActionItem:c.default,rfLoadMore:r.default,uniTag:u.default},data:function(){return{orderItemList:[],errorImg:o.default,page:1,loadingType:"more",token:null,options:[],orderStatus:null}},filters:{time:function(e){return(0,l.default)(1e3*e).format("YYYY-MM-DD HH:mm:ss")},filterIsEvaluate:function(e){var t=["未评价","已评价","已追评"];return t[parseInt(e,10)]},filterProductStatus:function(e){var t=null;if(0!==parseInt(e.refund_status,10)){var a=[{key:1,value:"退款/退货申请"},{key:2,value:"等待退货"},{key:3,value:"等待确认收货"},{key:4,value:"等待确认退款"},{key:5,value:"同意退款"},{key:-1,value:"退款已拒绝"},{key:-2,value:"退款已关闭"},{key:-3,value:"退款不通过"}];a.forEach((function(a){a.key==e.refund_status&&(t=a.value)}))}else if(4===parseInt(e.order_status,10)){var n=[{key:0,value:"未评价"},{key:1,value:"已评价"},{key:2,value:"已追评"}];n.forEach((function(a){a.key==e.is_evaluate&&(t=a.value)}))}else{var i=[{key:0,value:"待付款"},{key:1,value:"待发货"},{key:2,value:"已发货"},{key:3,value:"已收货"},{key:4,value:"已完成"},{key:-1,value:"退货申请"},{key:-2,value:"退款中"},{key:-3,value:"退款完成"},{key:-4,value:"已关闭"},{key:-5,value:"撤销申请"}];i.forEach((function(a){a.key==e.order_status&&(t=a.value)}))}return t}},computed:{itemOptions:function(){return function(e,t){var a=[],n=this.orderStatus;if(1===parseInt(n,10))switch(t){case"0":a.push({text:"仅退款"});break;case"1":a.push({text:"取消",style:{backgroundColor:"rgb(254,156,1)"}});break;default:break}else if(2===parseInt(n,10))switch(t){case"0":a.push({text:"退款/退货"});break;case"1":a.push({text:"取消",style:{backgroundColor:"rgb(254,156,1)"}});break;case"2":a.push({text:"填写退货信息",style:{backgroundColor:"rgb(254,156,1)"}});break;default:break}else if(4===parseInt(n,10)){switch(e){case"0":a.push({text:"评价",style:{backgroundColor:"rgb(254,156,1)"}});break;case"1":a.push({text:"追加评价",style:{backgroundColor:"rgb(255,58,49)"}});break;case 2:break;default:break}switch(t){case"0":a.push({text:"退款/退货"});break;case"-3":a.push({text:"退款/退货"});break;case"1":a.push({text:"取消",style:{backgroundColor:"rgb(254,156,1)"}});break;case"2":a.push({text:"填写退货信息",style:{backgroundColor:"rgb(254,156,1)"}});break;default:break}}return a}}},onLoad:function(e){this.initData(e)},methods:{bindClick:function(e){if("仅退款"===e.content.text){if(0!==parseInt(e.data.refund_status,10))return void this.$api.msg("您已经提交了退款申请");this.goRefund(e.data,1)}else if("退款/退货"===e.content.text){if(0!==parseInt(e.data.refund_status,10))return void this.$api.msg("您已经提交了退货申请");2==e.data.order_status?this.goRefund(e.data,2):4==e.data.order_status&&this.goRefund(e.data,3)}else"取消"===e.content.text?(this.handleCloseOrderRefundApply(e.data.id),2==e.data.order_status?this.goRefund(e.data,2):4==e.data.order_status&&this.goRefund(e.data,3)):"取消"===e.content.text||"取消"===e.content.text?this.handleCloseOrderRefundApply(e.data.order_status,e.data.id):"评价"===e.content.text?this.goEvaluation(e.data):"追加评价"===e.content.text?this.goEvaluation(e.data,"add"):"填写退货信息"===e.content.text&&this.navTo("/pages/order/sales-return?data=".concat(JSON.stringify(e.data)))},handleCloseOrderRefundApply:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.closeOrderRefundApply,4==t&&(n=s.orderCustomerRefundClose),e.next=4,this.$post("".concat(n),{id:a}).then((function(e){uni.navigateBack({delta:1})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),initData:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.token=uni.getStorageSync("accessToken")||void 0,e.next=3,this.$get("".concat(s.orderDetail),{id:t.id}).then((function(e){a.orderItemList=e.data.product,a.orderStatus=e.data.order_status})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onImageError:function(e){this.orderItemList[e].picture=this.errorImg},goEvaluation:function(e,t){uni.navigateTo({url:"/pages/evaluation/evaluation?data=".concat(JSON.stringify(e),"&type=").concat(t)})},navTo:function(e){uni.navigateTo({url:e})},goRefund:function(e,t){uni.navigateTo({url:"/pages/refund/refund?data=".concat(JSON.stringify(e),"&refundType=").concat(t)})}}};t.default=f},d0be:function(e,t,a){var n=a("4523");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("6f1040a0",n,!0,{sourceMap:!1,shadowMode:!1})},d83d:function(e,t,a){"use strict";a.r(t);var n=a("c7ee"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},dbdb7:function(e,t,a){"use strict";var n=a("e019"),i=a.n(n);i.a},e019:function(e,t,a){var n=a("37b0");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("b6031534",n,!0,{sourceMap:!1,shadowMode:!1})},ea19:function(e,t,a){"use strict";var n=a("d0be"),i=a.n(n);i.a},ff71:function(e,t,a){"use strict";var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.text?a("v-uni-view",{staticClass:"uni-tag",class:[!0===e.disabled||"true"===e.disabled?"uni-tag--disabled":"",!0===e.inverted||"true"===e.inverted?"uni-tag--inverted":"",!0===e.circle||"true"===e.circle?"uni-tag--circle":"",!0===e.mark||"true"===e.mark?"uni-tag--mark":"","uni-tag--"+e.size,"uni-tag--"+e.type],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick()}}},[e._v(e._s(e.text))]):e._e()},r=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}))}}]);