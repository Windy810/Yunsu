{"version":3,"sources":["webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/main.js","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?5a3b","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?566b","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?c521","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?71e8","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?fdd4","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue?1477"],"names":["createPage","Page","data","sumPrice","headerPosition","headerTop","statusTop","showHeader","selectedList","isAllselected","theIndex","oldIndex","isStop","cartList","token","oldDiscount","footerbottom","specClass","showTypeImage","productDetail","specSelected","specChildList","specList","currentStock","currentSkuPrice","cartCount","currentSkuId","currentNewSkuId","styleObject","loading","onPageScroll","e","scrollTop","statusHeight","onPullDownRefresh","length","getCartItemList","onShow","initData","methods","toggleSpec","row","$api","msg","base_attribute_format","handleCartItemUpdateSku","setTimeout","number","getProductDetail","selectSpec","index","pid","type","list","forEach","item","base_spec_id","$set","parseInt","color","selected","push","skuStr","base_spec_value_id","sku","join","stock","price","id","sku_id","$get","product_id","then","r","value","sku_name","indexOf","title","catch","err","console","log","hideSpec","stopPrevent","deleteCartItem","sku_ids","i","$post","cartItemDel","JSON","stringify","new_sku_id","cartItemUpdateSku","uni","getStorageSync","undefined","navTo","url","navigateTo","cartItemList","stopPullDownRefresh","setStorageSync","removeTabBarBadge","setTabBarBadge","text","toString","clearCart","showModal","content","success","confirm","cartItemClear","touchStart","event","touches","initXY","pageX","pageY","touchMove","moveX","moveY","Math","abs","touchEnd","$event","splice","sum","allSelect","len","arr","sub","numberChange","add","discard","detail","cartItemUpdateNum","num","code","message","createOrder","ids","arrSort","toFixed","floor","val","map","dest","ai","product","j","dj","discountArr","item2","ladderPreferential","quantity","itemPrice","totalPrice","amount","discount"],"mappings":"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","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0b1bbad6&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=0b1bbad6&\"","var components = {\n  \"rf-loading\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-loading/rf-loading\" */ \"@/components/rf-loading/rf-loading.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.specList, function(item, index) {\n    var m0 = parseInt(item.show_type)\n    var m1 = parseInt(item.show_type)\n    var m2 = parseInt(item.show_type)\n    var m3 = parseInt(item.show_type)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      m3: m3\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {\n\t\tcartItemClear,\n\t\tcartItemDel,\n\t\tcartItemList,\n\t\tcartItemUpdateNum,\n\t\tcartItemUpdateSku,\n\t\tproductDetail\n\t} from \"@/api/product\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsumPrice: '0.00',\n\t\t\t\theaderPosition: \"fixed\",\n\t\t\t\theaderTop: null,\n\t\t\t\tstatusTop: null,\n\t\t\t\tshowHeader: true,\n\t\t\t\tselectedList: [],\n\t\t\t\tisAllselected: false,\n\t\t\t\t//控制滑动效果\n\t\t\t\ttheIndex: null,\n\t\t\t\toldIndex: null,\n\t\t\t\tisStop: false,\n\t\t\t\tcartList: [],\n\t\t\t\ttoken: null,\n\t\t\t\toldDiscount: 0,\n\t\t\t\tfooterbottom: 0,\n\t\t\t\tspecClass: 'none',\n\t\t\t\tshowTypeImage: null,\n\t\t\t\tproductDetail: {},\n\t\t\t\tspecSelected: [],\n\t\t\t\tspecChildList: [],\n\t\t\t\tspecList: [],\n\t\t\t\tcurrentStock: 0,\n\t\t\t\tcurrentSkuPrice: 0,\n\t\t\t\tcartCount: 0,\n\t\t\t\tcurrentSkuId: null,\n\t\t\t\tcurrentNewSkuId: null,\n\t\t\t\tstyleObject: {},\n        loading: true,\n\t\t\t}\n\t\t},\n\t\tonPageScroll(e) {\n\t\t\t//兼容iOS端下拉时顶部漂移\n\t\t\tthis.headerPosition = e.scrollTop >= 0 ? \"fixed\" : \"absolute\";\n\t\t\tthis.headerTop = e.scrollTop >= 0 ? null : 0;\n\t\t\tthis.statusTop = e.scrollTop >= 0 ? null : -this.statusHeight + 'px';\n\t\t},\n\t\t//下拉刷新，需要自己在page.json文件中配置开启页面下拉刷新 \"enablePullDownRefresh\": true\n\t\tonPullDownRefresh() {\n\t\t\tthis.selectedList.length = 0;\n\t\t\tthis.isAllselected = false;\n\t\t\tthis.sumPrice = 0;\n\t\t\tthis.getCartItemList('refresh');\n\t\t},\n\t\tonShow() {\n\t\t\t//兼容H5下结算条位置\n\n\n\n\n\n\n\n\t\t\tthis.initData();\n\t\t},\n\t\tmethods: {\n\t\t\t//规格弹窗开关\n\t\t\ttoggleSpec(row) {\n\t\t\t\tif (this.specClass === 'show') {\n\t\t\t\t\tif (!this.token) {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t\tthis.$api.msg('请您先登录！');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.specSelected.length < this.productDetail.base_attribute_format.length) {\n\t\t\t\t\t\tthis.$api.msg('请先选择规格');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.handleCartItemUpdateSku(this.currentSkuId, this.currentNewSkuId);\n\t\t\t\t\tthis.specClass = 'hide';\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t}, 250);\n\t\t\t\t} else if (this.specClass === 'none') {\n\t\t\t\t\tthis.specClass = 'show';\n\t\t\t\t\tif (row) {\n\t\t\t\t\t\tthis.specChildList = [];\n\t\t\t\t\t\tthis.cartCount = row.number;\n\t\t\t\t\t\tthis.getProductDetail(row);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t//选择规格\n\t\t\tselectSpec(index, pid, type) {\n\t\t\t\tlet list = this.specChildList;\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tif (item.base_spec_id === pid) {\n\t\t\t\t\t\tthis.$set(item, 'selected', false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (parseInt(type, 10) === 3) {\n\t\t\t\t\tthis.showTypeImage = list[index].data;\n\t\t\t\t}\n\t\t\t\tif (parseInt(type, 10) === 2) {\n\t\t\t\t\tthis.styleObject = {\n\t\t\t\t\t\tcolor: list[index].data,\n\t\t\t\t\t\t// border: `1px solid ${list[index].data}`,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.$set(list[index], 'selected', true);\n\t\t\t\t//存储已选择\n\t\t\t\t/**\n\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t */\n\t\t\t\tthis.specSelected = [];\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tif (item.selected === true) {\n\t\t\t\t\t\tthis.specSelected.push(item);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tlet skuStr = [];\n\t\t\t\tthis.specSelected.forEach(item => {\n\t\t\t\t\tskuStr.push(item.base_spec_value_id)\n\t\t\t\t})\n\t\t\t\tthis.productDetail.sku.forEach(item => {\n\t\t\t\t\tif (item.data === skuStr.join('-')) {\n\t\t\t\t\t\tthis.currentStock = item.stock;\n\t\t\t\t\t\tthis.currentSkuPrice = item.price;\n\t\t\t\t\t\tthis.currentNewSkuId = item.id;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 获取产品详情\n\t\t\tasync getProductDetail(row) {\n\t\t\t\tthis.currentSkuId = row.sku_id;\n\t\t\t\tthis.currentNewSkuId = row.sku_id;\n\t\t\t\tawait this.$get(`${productDetail}`, {\n\t\t\t\t\tid: row.product_id,\n\t\t\t\t}).then(async r => {\n\t\t\t\t\tthis.productDetail = r.data;\n\t\t\t\t\tthis.specList = this.productDetail.base_attribute_format;\n\t\t\t\t\tthis.specList.forEach(item => {\n\t\t\t\t\t\tthis.specChildList = [...this.specChildList, ...item.value]\n\t\t\t\t\t});\n\t\t\t\t\t/**\n\t\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t\t */\n\t\t\t\t\tthis.specSelected = [];\n\t\t\t\t\tthis.specChildList.forEach(item => {\n\t\t\t\t\t\tif (row.sku_name.indexOf(item.title) !== -1) {\n\t\t\t\t\t\t\titem.selected = true;\n\t\t\t\t\t\t\tthis.specSelected.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\tlet skuStr = [];\n\t\t\t\t\tthis.specSelected.forEach(item => {\n\t\t\t\t\t\tskuStr.push(item.base_spec_value_id)\n\t\t\t\t\t});\n\t\t\t\t\tthis.productDetail.sku.forEach(item => {\n\t\t\t\t\t\tif (item.data === skuStr.join('-')) {\n\t\t\t\t\t\t\tthis.currentStock = item.stock;\n\t\t\t\t\t\t\tthis.currentSkuPrice = item.price;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\thideSpec() {\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t},\n\t\t\tstopPrevent() {\n\t\t\t},\n\t\t\t// 删除选中购物车商品\n\t\t\tasync deleteCartItem(id, type) {\n\t\t\t\tconst sku_ids = []\n\t\t\t\tif (type) {\n\t\t\t\t\tsku_ids.push(parseInt(id, 10))\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = 0; i < this.cartList.length; i++) {\n\t\t\t\t\t\tif (this.cartList[i].selected) {\n\t\t\t\t\t\t\tsku_ids.push(parseInt(this.cartList[i].sku_id, 10));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tawait this.$post(`${cartItemDel}`, {\n\t\t\t\t\tsku_ids: JSON.stringify(sku_ids)\n\t\t\t\t}).then(r => {\n\t\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\t\tthis.isAllselected = false;\n\t\t\t\t\tthis.sumPrice = 0;\n\t\t\t\t\tthis.getCartItemList();\n\t\t\t\t\tthis.oldIndex = null;\n\t\t\t\t\tthis.theIndex = null;\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 修改购物车商品sku\n\t\t\tasync handleCartItemUpdateSku(sku_id, new_sku_id) {\n\t\t\t\tawait this.$post(`${cartItemUpdateSku}`, {\n\t\t\t\t\tsku_id,\n\t\t\t\t\tnew_sku_id\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\t\tthis.isAllselected = false;\n\t\t\t\t\tthis.sumPrice = 0;\n\t\t\t\t\tthis.getCartItemList();\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 数据初始化\n\t\t\tinitData() {\n\t\t\t\tthis.token = uni.getStorageSync('accessToken') || undefined\n\t\t\t\tif (this.token) {\n          this.theIndex = null;\n          this.oldIndex = null;\n\t\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\t\tthis.isAllselected = false;\n\t\t\t\t\tthis.sumPrice = 0;\n\t\t\t\t\tthis.getCartItemList();\n\t\t\t\t} else {\n\t\t\t\t  this.loading = false;\n\t\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 通用跳转\n\t\t\tnavTo(url) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 获取购物车列表\n\t\t\tasync getCartItemList(type) {\n\t\t\t\tawait this.$get(`${cartItemList}`, {}, {}, this).then(r => {\n\t\t\t\t  this.loading = false;\n\t\t\t\t\tif (type === 'refresh') {\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t}\n\t\t\t\t\tthis.cartList = r.data;\n\t\t\t\t\tuni.setStorageSync('cartNum', r.data.length)\n\t\t\t\t\tif (r.data.length == 0) {\n\t\t\t\t\t\tuni.removeTabBarBadge({index: 3});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\ttext: r.data.length.toString()\n\t\t\t\t\t});\n\t\t\t\t}).catch(() => {\n\t\t\t\t  this.loading = false;\n\t\t\t\t\tif (type === 'refresh') {\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 清空购物车\n\t\t\tclearCart() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: '清空购物车？',\n\t\t\t\t\tsuccess: async (e) => {\n\t\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\t\tawait this.$post(`${cartItemClear}`).then(r => {\n\t\t\t\t\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\t\t\t\t\tthis.isAllselected = false;\n\t\t\t\t\t\t\t\tthis.sumPrice = 0;\n\t\t\t\t\t\t\t\tthis.getCartItemList();\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 控制左滑删除效果\n\t\t\ttouchStart(index, event) {\n\t\t\t\t//多点触控不触发\n\t\t\t\tif (event.touches.length > 1) {\n\t\t\t\t\tthis.isStop = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.oldIndex = this.theIndex;\n\t\t\t\tthis.theIndex = null;\n\t\t\t\t//初始坐标\n\t\t\t\tthis.initXY = [event.touches[0].pageX, event.touches[0].pageY];\n\t\t\t},\n\t\t\ttouchMove(index, event) {\n\t\t\t\t//多点触控不触发\n\t\t\t\tif (event.touches.length > 1) {\n\t\t\t\t\tthis.isStop = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet moveX = event.touches[0].pageX - this.initXY[0];\n\t\t\t\tlet moveY = event.touches[0].pageY - this.initXY[1];\n\n\t\t\t\tif (this.isStop || Math.abs(moveX) < 5) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (Math.abs(moveY) > Math.abs(moveX)) {\n\t\t\t\t\t// 竖向滑动-不触发左滑效果\n\t\t\t\t\tthis.isStop = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (moveX < 0) {\n\t\t\t\t\tthis.theIndex = index;\n\t\t\t\t\tthis.isStop = true;\n\t\t\t\t} else if (moveX > 0) {\n\t\t\t\t\tif (this.theIndex != null && this.oldIndex == this.theIndex) {\n\t\t\t\t\t\tthis.oldIndex = index;\n\t\t\t\t\t\tthis.theIndex = null;\n\t\t\t\t\t\tthis.isStop = true;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.oldIndex = null;\n\t\t\t\t\t\t}, 150)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttouchEnd(index, $event) {\n\t\t\t\t//结束禁止触发效果\n\t\t\t\tthis.isStop = false;\n\t\t\t},\n\t\t\t// 选中商品\n\t\t\tselected(index) {\n\t\t\t\tthis.cartList[index].selected = this.cartList[index].selected ? false : true;\n\t\t\t\tlet i = this.selectedList.indexOf(this.cartList[index].id);\n\t\t\t\ti > -1 ? this.selectedList.splice(i, 1) : this.selectedList.push(this.cartList[index].id);\n\t\t\t\tthis.isAllselected = this.selectedList.length == this.cartList.length;\n\t\t\t\tthis.sum();\n\t\t\t},\n\t\t\t// 全选商品\n\t\t\tallSelect() {\n\t\t\t\tlet len = this.cartList.length;\n\t\t\t\tlet arr = [];\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\tthis.cartList[i].selected = this.isAllselected ? false : true;\n\t\t\t\t\tarr.push(this.cartList[i].id);\n\t\t\t\t}\n\t\t\t\tthis.selectedList = this.isAllselected ? [] : arr;\n\t\t\t\tthis.isAllselected = this.isAllselected || this.cartList.length == 0 ? false : true;\n\t\t\t\tthis.sum();\n\t\t\t},\n\t\t\t// 减少数量(执行接口)\n\t\t\tsub(item, index) {\n\t\t\t\tif (this.cartList[index].number <= 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.cartList[index].number--;\n\t\t\t\tthis.numberChange(item);\n\t\t\t},\n\t\t\t// 增加数量(执行接口)\n\t\t\tadd(item, index) {\n\t\t\t\tthis.cartList[index].number++;\n\t\t\t\tthis.numberChange(item, undefined, index, 'add');\n\t\t\t},\n\t\t\t// 控制可输入购物车商品数量\n\t\t\tdiscard() {\n\t\t\t},\n\t\t\t// 监听购物车商品数量改变\n\t\t\tasync numberChange(item, data, index, type) {\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.cartList[index].number = data.detail.value;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait this.$post(`${cartItemUpdateNum}`, {\n\t\t\t\t\tsku_id: item.sku_id,\n\t\t\t\t\tnum: item.number\n\t\t\t\t}).then(r => {\n\t\t\t\t\tif (r.code === 200) {\n\t\t\t\t\t\tthis.sum();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (type === 'add') {\n\t\t\t\t\t\t\tthis.cartList[index].number--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$api.msg(r.message);\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tif (type === 'add') {\n\t\t\t\t\t\tthis.cartList[index].number--;\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 创建订单\n\t\t\tasync createOrder() {\n\t\t\t\tif (this.selectedList.length === 0) return;\n\t\t\t\tconst data = {};\n\t\t\t\tconst ids = [];\n\t\t\t\tlet len = this.cartList.length;\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\tif (this.cartList[i].selected) {\n\t\t\t\t\t\tids.push(parseInt(this.cartList[i].id, 10));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.type = 'cart';\n\t\t\t\tdata.data = ids.join(',');\n\t\t\t\tthis.selectedList.length = 0;\n\t\t\t\tthis.isAllselected = false;\n\t\t\t\tthis.sumPrice = 0;\n\t\t\t\tthis.navTo(`/pages/order/createOrder?data=${JSON.stringify(data)}`);\n\t\t\t},\n\t\t\t// 合计\n\t\t\tsum() {\n\t\t\t\tthis.sumPrice = 0;\n\t\t\t\tlet len = this.cartList.length;\n\t\t\t\tconst arr = []\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\tif (this.cartList[i].selected) {\n\t\t\t\t\t\tarr.push(this.cartList[i]);\n\t\t\t\t\t\tthis.sumPrice = this.arrSort(arr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sumPrice = this.sumPrice.toFixed(2);\n\t\t\t},\n\t\t\t// 向下舍去小数点后两位\n\t\t\tfloor(val) {\n\t\t\t\treturn Math.floor(val * 100) / 100;\n\t\t\t},\n\t\t\t// 计算相同商品不同规格价格\n\t\t\tarrSort(arr) {\n\t\t\t\tconst map = {},\n\t\t\t\t\tdest = [];\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tconst ai = arr[i];\n\t\t\t\t\tif (!map[ai.product.id]) {\n\t\t\t\t\t\tdest.push({\n\t\t\t\t\t\t\tid: ai.product.id,\n\t\t\t\t\t\t\tnum: 0,\n\t\t\t\t\t\t\tprice: 0,\n\t\t\t\t\t\t\tdata: [ai]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmap[ai.product.id] = ai;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (let j = 0; j < dest.length; j++) {\n\t\t\t\t\t\t\tconst dj = dest[j];\n\t\t\t\t\t\t\tif (dj.data[0].product.id === ai.product.id) {\n\t\t\t\t\t\t\t\tdj.data.push(ai);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst discountArr = []\n\t\t\t\tdest.forEach(item => {\n\t\t\t\t\titem.data.forEach(item2 => {\n\t\t\t\t\t\titem.num += parseInt(item2.number, 10)\n\t\t\t\t\t\titem.price += parseInt(item2.number, 10) * item2.price;\n\t\t\t\t\t})\n\t\t\t\t\tconst ladderPreferential = item.data[0].ladderPreferential;\n\t\t\t\t\tfor (let i = 0; i < ladderPreferential.length; i++) {\n\t\t\t\t\t\tif (item.num >= parseInt(ladderPreferential[i].quantity, 10)) {\n\t\t\t\t\t\t\tladderPreferential[i].num = item.num\n\t\t\t\t\t\t\tladderPreferential[i].itemPrice = item.data[0].price\n\t\t\t\t\t\t\tladderPreferential[i].totalPrice = item.price\n\t\t\t\t\t\t\tdiscountArr.push(ladderPreferential[i])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet amount = 0;\n\t\t\t\tlet discount = 0;\n\t\t\t\tdiscountArr.forEach(item2 => {\n\t\t\t\t\tif (parseInt(item2.type, 10) === 1) {\n\t\t\t\t\t\tdiscount += item2.price * item2.num\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiscount += (item2.totalPrice - this.floor(item2.itemPrice * item2.price / 100) * item2.num)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdest.forEach(item => {\n\t\t\t\t\tamount += item.price;\n\t\t\t\t});\n\t\t\t\treturn amount - discount;\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588751807694\n      var cssReload = require(\"C:/Users/windy/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}