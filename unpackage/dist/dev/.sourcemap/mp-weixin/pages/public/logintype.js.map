{"version":3,"sources":["webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/main.js","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?53b1","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?ce66","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?97f4","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?1300","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?89b3","webpack:///C:/Users/windy/Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue?964e"],"names":["createPage","Page","data","isAuthLoginShow","onLoad","options","code","$get","wechatH5Login","then","r","login","user_info","original","uni","showModal","content","success","confirmRes","confirm","url","JSON","stringify","navigateTo","$api","msg","reLaunch","methods","navTo","toAuthLogin","_this","provider","loginRes","getUserInfo","infoRes","console","log","$post","mpWechatLogin","signature","encryptedData","rawData","iv","fail","err","isWechat","ua","window","navigator","userAgent","toLowerCase","match"],"mappings":"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","file":"pages/public/logintype.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/public/logintype.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./logintype.vue?vue&type=template&id=d68037b4&\"\nvar renderjs\nimport script from \"./logintype.vue?vue&type=script&lang=js&\"\nexport * from \"./logintype.vue?vue&type=script&lang=js&\"\nimport style0 from \"./logintype.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Documents/HBuilderProjects/TinyShop-UniApp 前后端开源的微商城项目示例/pages/public/logintype.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./logintype.vue?vue&type=template&id=d68037b4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./logintype.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./logintype.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n/**\r\n * @des 登录类型\r\n *\r\n * @author stav stavyan@qq.com\r\n * @date 2020-01-13 12:02\r\n * @copyright 2019\r\n */\r\nimport {mpWechatLogin, wechatH5Login} from \"@/api/login\";\r\nimport {mapMutations} from \"vuex\";\r\nimport {weixinAppId} from \"@/api/params\";\r\nexport default{\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tisAuthLoginShow: false,\r\n\t\t}\r\n\t},\r\n\tonLoad(options){\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tthis.isAuthLoginShow = true;\r\n\r\n\t\tthis.code = options.code;\r\n\t\tif (this.code) {\r\n       this.$get(wechatH5Login, {\r\n        code: this.code\r\n\t\t\t }).then(async r => {\r\n\t\t\t\t if (!r.data.login) {\r\n\t\t\t\t\t this.user_info = r.data.user_info.original;\r\n\t\t\t\t\t uni.showModal({\r\n\t\t\t\t\t\t content: '你尚未绑定账号，是否跳转登录页面？',\r\n\t\t\t\t\t\t success: (confirmRes) => {\r\n\t\t\t\t\t\t\t if (confirmRes.confirm) {\r\n\t\t\t\t\t\t\t\t const url = `/pages/public/login?userInfo=${JSON.stringify(this.user_info)}`;\r\n\t\t\t\t\t\t\t\t uni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t url\r\n\t\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t });\r\n\t\t\t\t } else {\r\n\t\t\t\t\t await this.login(r.data.user_info);\r\n\t\t\t\t\t this.$api.msg('已为您授权登录');\r\n\t\t\t\t\t const url = `/pages/user/user`;\r\n\t\t\t\t   uni.reLaunch({\r\n\t\t\t\t\t    url\r\n\t\t\t\t   });\r\n\t\t\t\t }\r\n\t\t\t })\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations(['login']),\r\n\t\tnavTo (url) {\r\n      uni.navigateTo({\r\n        url\r\n      });\r\n\t\t},\r\n\t\ttoAuthLogin () {\r\n\t\t\t\tconst _this = this;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        uni.showModal({\r\n          content: '是否授权登录?',\r\n          success: (confirmRes)=> {\r\n            if (confirmRes.confirm) {\r\n              uni.login({\r\n                    provider: 'weixin',\r\n                    success: function (loginRes) {\r\n                        uni.getUserInfo({\r\n                            provider: 'weixin',\r\n                            success: function (infoRes) {\r\n                                console.log(infoRes)\r\n                                _this.$post(mpWechatLogin, {\r\n                                    signature: infoRes.signature,\r\n                                    encryptedData: infoRes.encryptedData,\r\n                                    rawData: infoRes.rawData,\r\n                                    iv: infoRes.iv,\r\n                                    code: loginRes.code\r\n                                }).then(async r => {\r\n                                  if (!r.data.login) {\r\n                                      _this.user_info = r.data.user_info;\r\n                                      uni.showModal({\r\n                                          content: '你尚未绑定账号，是否跳转登录页面？',\r\n                                          success: (confirmRes) => {\r\n                                              if (confirmRes.confirm) {\r\n                                                  const url = `/pages/public/login?userInfo=${JSON.stringify(_this.user_info)}`;\r\n                                                  uni.navigateTo({\r\n                                                      url\r\n                                                  })\r\n                                              }\r\n                                          }\r\n                                      });\r\n                                  } else {\r\n                                    await _this.login(r.data.user_info);\r\n                                    _this.$api.msg('已为您授权登录');\r\n                                    const url = `/pages/user/user`;\r\n                                    uni.reLaunch({\r\n                                        url\r\n                                    });\r\n                                  }\r\n                                })\r\n                            },\r\n                            fail: function (err) {\r\n                                console.log(err);\r\n                            },\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n          }\r\n        });\r\n\r\n\r\n\r\n\r\n\t\t},\r\n\t\tisWechat(){\r\n\t\t\t\tconst ua = window.navigator.userAgent.toLowerCase();\r\n\t\t\t\tif(ua.match(/micromessenger/i) == 'micromessenger'){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./logintype.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./logintype.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588751807566\n      var cssReload = require(\"C:/Users/windy/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}